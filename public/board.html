<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Board â€” Bull$hit Bingo</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <div class="bg-orbs">
    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>
    <div class="orb orb-3"></div>
  </div>

  <header class="board-header">
    <a href="/" class="back-link">&larr; Home</a>
    <div class="header-spacer"></div>
    <button id="share-btn" class="btn btn-small btn-secondary">Copy Link</button>
  </header>

  <main class="board-main">
    <h1 id="board-name" class="board-name-hero"></h1>

    <!-- Join Modal -->
    <div id="join-modal" class="modal-backdrop hidden">
      <div class="glass-card modal-card">
        <h2>Join the Game</h2>
        <p class="hint">Pick a name and color so others can see your card.</p>
        <form id="join-form" class="join-player-form">
          <input
            type="text"
            id="join-name"
            placeholder="Your name"
            maxlength="20"
            autocomplete="off"
            required
          >
          <div class="color-picker">
            <button type="button" class="color-swatch" data-color="#a855f7" style="background:#a855f7" title="Purple"></button>
            <button type="button" class="color-swatch" data-color="#ec4899" style="background:#ec4899" title="Pink"></button>
            <button type="button" class="color-swatch" data-color="#06b6d4" style="background:#06b6d4" title="Cyan"></button>
            <button type="button" class="color-swatch" data-color="#f59e0b" style="background:#f59e0b" title="Amber"></button>
            <button type="button" class="color-swatch" data-color="#22c55e" style="background:#22c55e" title="Green"></button>
            <button type="button" class="color-swatch" data-color="#f43f5e" style="background:#f43f5e" title="Rose"></button>
            <button type="button" class="color-swatch" data-color="#3b82f6" style="background:#3b82f6" title="Blue"></button>
            <button type="button" class="color-swatch" data-color="#f97316" style="background:#f97316" title="Orange"></button>
          </div>
          <button type="submit" class="btn btn-primary" id="join-submit-btn" disabled>Join</button>
        </form>
      </div>
    </div>

    <!-- Setup Mode -->
    <section id="setup-section" class="glass-card setup-card">
      <h2>Add Topics</h2>
      <p class="hint">Add predictions for things that'll come up. 8 topics = 3&times;3, 15 = 4&times;4, 24 = 5&times;5</p>

      <form id="topic-form" class="topic-form">
        <input
          type="text"
          id="topic-input"
          placeholder="e.g. &quot;Complains about their boss&quot;"
          maxlength="80"
          autocomplete="off"
          required
        >
        <button type="submit" class="btn btn-primary">Add</button>
      </form>

      <div id="topic-list" class="topic-list"></div>

      <div class="setup-actions">
        <span id="topic-count" class="topic-count">0 topics</span>
        <button id="play-btn" class="btn btn-primary btn-play" disabled>Shuffle &amp; Play</button>
      </div>
    </section>

    <!-- Play Mode -->
    <section id="play-section" class="play-section hidden">
      <div class="play-controls">
        <button id="back-setup-btn" class="btn btn-small btn-secondary">&larr; Topics</button>
        <button id="reshuffle-btn" class="btn btn-small btn-secondary">Reshuffle</button>
      </div>

      <!-- Your card -->
      <div id="my-card-wrapper" class="my-card-wrapper">
        <div class="card-owner-label" id="my-card-label"></div>
        <div id="bingo-grid" class="bingo-grid"></div>
      </div>

      <!-- Other players' mini cards -->
      <div id="other-players" class="other-players-scroll"></div>
    </section>
  </main>

  <!-- Bingo overlay -->
  <div id="bingo-overlay" class="bingo-overlay hidden">
    <div class="bingo-overlay-content">
      <div class="bingo-text">BINGO!</div>
      <div class="bingo-winner" id="bingo-winner"></div>
    </div>
  </div>

  <canvas id="confetti-canvas"></canvas>

  <script src="/js/confetti.js"></script>
  <script type="module" src="/js/board.js"></script>
</body>
</html>
